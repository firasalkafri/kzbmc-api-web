<div class="page-header kz_center">
  	<h1 ng-if="$root.bmc">{{ 'CANVAS_MODELO_NEGOCIOS' | translate }}</h1>
    <h1 ng-if="!$root.bmc">{{ 'LEAN_MODEL_CANVAS' | translate }}</h1>
</div>
<div class="kz_content">
	<div class="row">
		<div class="col-xs-12 kz_center">
      <a ng-href="#cadastrar-canvas" class="kz_margin_top_5 btn btn-lg" 
        ng-class="{ 'btn-primary' : $root.bmc, 'btn-success' : !$root.bmc }">
        <span class="glyphicon glyphicon-plus"></span> {{ 'CRIAR_NOVO_CANVAS' | translate }}
      </a>
      <a ng-href="" class="kz_margin_top_5 btn btn-lg" ng-click="alternarVisualizacao(true)" 
        ng-class="{ 'btn-primary' : $root.bmc, 'btn-success' : !$root.bmc }"
        ng-show="mostrarCompartilhados==false && !$root.local">
        <span class="glyphicon glyphicon-eye-open"></span> {{ 'VER_CANVAS_COMPARTILHADOS' | translate }}
      </a>
      <a ng-href="" class="kz_margin_top_5 btn btn-lg" ng-click="alternarVisualizacao(false)" 
        ng-class="{ 'btn-primary' : $root.bmc, 'btn-success' : !$root.bmc }"
        ng-show="mostrarCompartilhados==true">
        <span class="glyphicon glyphicon-eye-open"></span> {{ 'VER_MEUS_CANVAS' | translate }}
      </a>
      <a ng-href="" class="kz_margin_top_5 btn btn-lg" ng-click="baixarProjetosServidor()" ng-show="$root.local"
        ng-class="{ 'btn-primary' : $root.bmc, 'btn-success' : !$root.bmc }"
        alt="{{ 'SINCRONIZAR_SERVIDOR_REMOTO' | translate }}" 
        title="{{ 'SINCRONIZAR_SERVIDOR_REMOTO' | translate }}">
        &nbsp;<span class="glyphicon glyphicon-refresh"></span>&nbsp;
        {{ 'SINCRONIZAR_SERVIDOR_REMOTO' | translate }}
      </a>
		</div>
	</div>
	<br />
  <div ng-show="mostrarCompartilhados==false">
    <div class="row" ng-show="projetos.length<1">
      <div class="col-xs-12 kz_center">
        <p>{{ 'NENHUM_MODELO_CADASTRADO' | translate }}</p>
      </div>
    </div>
    <div class="alert alert-danger" role="alert" ng-show="erro">
      <p>{{ 'ERRO_OBTENDO_DADOS' | translate }}</p>
    </div>
    <div class="alert alert-success" role="alert" ng-show="sucessoUpload">
      <p>{{ 'SUCESSO_UPLOAD' | translate }}</p>
    </div>
    <div class="alert alert-danger" role="alert" ng-show="erroUpload">
      <p>{{ 'ERRO_UPLOAD' | translate }}</p>
    </div>
    <div class="alert alert-success" role="alert" ng-show="sucessoDownload">
      <p>{{ 'SUCESSO_DOWNLOAD' | translate }}</p>
    </div>
    <div class="alert alert-danger" role="alert" ng-show="erroDownload">
      <p>{{ 'ERRO_DOWNLOAD' | translate }}</p>
    </div>
    <div class="alert alert-success" role="alert" ng-show="sucessoSincronizar">
      <p>{{ 'SUCESSO_SINCRONIZAR' | translate }}</p>
    </div>
    <div class="alert alert-danger" role="alert" ng-show="erroSincronizar">
      <p>{{ 'ERRO_SINCRONIZAR' | translate }}</p>
    </div>
  </div>
  <!-- MEUS CANVAS -->
	<div class="table-responsive" ng-show="projetos.length>0 && mostrarCompartilhados==false">
  		<table class="table table-striped table-hover">
    		<thead>
    			<tr>
    				<th><h3>{{ 'MEUS_CANVAS' | translate }}</h3></th>
    			</tr>
    		</thead>
    		<tbody>
    			<tr ng-repeat="projeto in projetos">
    				<td class="kz_mouse_cursor">
              <!-- MENU SMALL SCREENS : BEGIN -->   
              <div class="hidden-md hidden-lg">
                <a ng-href="#/wizard-canvas/{{projeto.id}}"
                  class="btn" ng-class="{ 'btn-primary' : $root.bmc, 'btn-success' : !$root.bmc }"
                  alt="{{ 'WIZARD' | translate }}" title="{{ 'WIZARD' | translate }}">
                  &nbsp;<span class="glyphicon glyphicon-wrench"></span>&nbsp;
                </a>
                <a ng-href="#/editar-canvas/{{projeto.id}}"
                  class="btn" ng-class="{ 'btn-primary' : $root.bmc, 'btn-success' : !$root.bmc }"
                  alt="{{ 'EDITAR_CANVAS' | translate }}" title="{{ 'EDITAR_CANVAS' | translate }}">
                  &nbsp;<span class="glyphicon glyphicon-pencil"></span>&nbsp;
                </a>
                <a ng-href="#/remover-canvas/{{projeto.id}}"
                  class="btn" ng-class="{ 'btn-primary' : $root.bmc, 'btn-success' : !$root.bmc }"
                  alt="{{ 'REMOVER_CANVAS' | translate }}" title="{{ 'REMOVER_CANVAS' | translate }}">
                  &nbsp;<span class="glyphicon glyphicon-trash"></span>&nbsp;
                </a>
                <a ng-href="#/canvas/{{projeto.id}}"
                  class="btn" ng-class="{ 'btn-primary' : $root.bmc, 'btn-success' : !$root.bmc }"
                  alt="{{ 'VISUALIZAR_CANVAS' | translate }}" title="{{ 'VISUALIZAR_CANVAS' | translate }}">
                  &nbsp;<span class="glyphicon glyphicon-picture"></span>&nbsp;
                </a>
                <a ng-href="" ng-click="upload(projeto.id)" ng-if="projetoLocal(projeto.id)"
                  class="btn" ng-class="{ 'btn-primary' : $root.bmc, 'btn-success' : !$root.bmc }"
                  alt="{{ 'ENVIAR_SERVIDOR_REMOTO' | translate }}" 
                  title="{{ 'ENVIAR_SERVIDOR_REMOTO' | translate }}">
                  &nbsp;<span class="glyphicon glyphicon-cloud-upload"></span>&nbsp;
                </a>
                <a ng-href="" ng-click="upload(projeto.id)" ng-if="!projetoLocal(projeto.id)"
                  class="btn" ng-class="{ 'btn-primary' : $root.bmc, 'btn-success' : !$root.bmc }"
                  alt="{{ 'ENVIAR_SERVIDOR_REMOTO_SOBRESCREVER' | translate }}" 
                  title="{{ 'ENVIAR_SERVIDOR_REMOTO_SOBRESCREVER' | translate }}">
                  &nbsp;<span class="glyphicon glyphicon-cloud-upload"></span>&nbsp;
                </a>
                <a ng-href="" ng-click="download(projeto.id)" ng-if="!projetoLocal(projeto.id)"
                  class="btn" ng-class="{ 'btn-primary' : $root.bmc, 'btn-success' : !$root.bmc }"
                  alt="{{ 'BAIXAR_SERVIDOR_REMOTO_SOBRESCREVER' | translate }}" 
                  title="{{ 'BAIXAR_SERVIDOR_REMOTO_SOBRESCREVER' | translate }}">
                  &nbsp;<span class="glyphicon glyphicon-cloud-download"></span>&nbsp;
                </a>
              </div>
              <!-- MENU SMALL SCREENS : END -->

              <!-- MENU BIG SCREENS : BEGIN -->
              <div class="hidden-xs hidden-sm pull-left kz_margin_right_5">
                <a ng-href="#/canvas/{{projeto.id}}" class="btn" 
                  ng-class="{ 'btn-primary' : $root.bmc, 'btn-success' : !$root.bmc }"
                  alt="{{ 'VISUALIZAR_CANVAS' | translate }}" title="{{ 'VISUALIZAR_CANVAS' | translate }}">
                  &nbsp;<span class="glyphicon glyphicon-picture"></span>&nbsp;
                </a>
                <div class="dropup btn-group hidden-print">
                  <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" aria-expanded="false"
                    ng-class="{ 'btn-primary' : $root.bmc, 'btn-success' : !$root.bmc }">
                    &nbsp;<span class="glyphicon glyphicon-cog" aria-hidden="true"></span>&nbsp;
                    <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu">
                    <li>
                      <a ng-href="#/wizard-canvas/{{projeto.id}}"
                        alt="{{ 'WIZARD' | translate }}" title="{{ 'WIZARD' | translate }}">
                        &nbsp;<span class="glyphicon glyphicon-wrench"></span>&nbsp;{{ 'WIZARD' | translate }}
                      </a>
                    </li>
                    <li>
                      <a ng-href="#/editar-canvas/{{projeto.id}}"
                        alt="{{ 'EDITAR_CANVAS' | translate }}" title="{{ 'EDITAR_CANVAS' | translate }}">
                        &nbsp;<span class="glyphicon glyphicon-pencil"></span>&nbsp;{{ 'EDITAR_CANVAS' | translate }}
                      </a>
                    </li>
                    <li>
                      <a ng-href="#/remover-canvas/{{projeto.id}}"
                        alt="{{ 'REMOVER_CANVAS' | translate }}" title="{{ 'REMOVER_CANVAS' | translate }}">
                        &nbsp;<span class="glyphicon glyphicon-trash"></span>&nbsp;{{ 'REMOVER_CANVAS' | translate }}
                      </a>
                    </li>
                    <li>
                      <a ng-href="#/canvas/{{projeto.id}}"
                        alt="{{ 'VISUALIZAR_CANVAS' | translate }}" title="{{ 'VISUALIZAR_CANVAS' | translate }}">
                        &nbsp;<span class="glyphicon glyphicon-picture"></span>&nbsp;{{ 'VISUALIZAR_CANVAS' | translate }}
                      </a>
                    </li>
                    <li ng-if="projetoLocal(projeto.id)">
                      <a ng-href="" ng-click="upload(projeto.id)"
                        alt="{{ 'ENVIAR_SERVIDOR_REMOTO' | translate }}" 
                        title="{{ 'ENVIAR_SERVIDOR_REMOTO' | translate }}">
                        &nbsp;<span class="glyphicon glyphicon-cloud-upload"></span>&nbsp;
                        {{ 'ENVIAR_SERVIDOR_REMOTO' | translate }}
                      </a>
                    </li>
                    <li ng-if="!projetoLocal(projeto.id)">
                      <a ng-href="" ng-click="upload(projeto.id)"
                        alt="{{ 'ENVIAR_SERVIDOR_REMOTO_SOBRESCREVER' | translate }}" 
                        title="{{ 'ENVIAR_SERVIDOR_REMOTO_SOBRESCREVER' | translate }}">
                        &nbsp;<span class="glyphicon glyphicon-cloud-upload"></span>&nbsp;
                        {{ 'ENVIAR_SERVIDOR_REMOTO_SOBRESCREVER' | translate }}
                      </a>
                    </li>
                    <li ng-if="!projetoLocal(projeto.id)">
                      <a ng-href="" ng-click="download(projeto.id)"
                        alt="{{ 'BAIXAR_SERVIDOR_REMOTO_SOBRESCREVER' | translate }}" 
                        title="{{ 'BAIXAR_SERVIDOR_REMOTO_SOBRESCREVER' | translate }}">
                        &nbsp;<span class="glyphicon glyphicon-cloud-download"></span>&nbsp;
                        {{ 'BAIXAR_SERVIDOR_REMOTO_SOBRESCREVER' | translate }}
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
              <!-- MENU BIG SCREENS : END -->
              <a ng-href="#/canvas/{{projeto.id}}">
                {{projeto.nome}}<br />
                <small><em>{{projeto.descricao}}</em></small>
              </a>
    				</td>
    			</tr>
    		</tbody>
  		</table>
	</div>

  <nav class="kz_center" ng-show="mostrarCompartilhados==false && projetos.length>0">
    <ul class="pagination">
      <li>
        <a ng-href="" ng-click="carregarProjetos(1)" aria-label="Previous" class="kz_mouse_cursor">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
      <li ng-repeat="page in pages" ng-class="{'active' : page==currentPage}">
        <a ng-href="" ng-click="carregarProjetos(page)" class="kz_mouse_cursor">
          {{page}}
        </a>
      </li>
      <li>
        <a ng-href="" ng-click="carregarProjetos(pageCount)" aria-label="Next" class="kz_mouse_cursor">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    </ul>
  </nav>
			
	<br />
  <div ng-show="mostrarCompartilhados==true">
    <div class="row" ng-show="projetosComp.length<1">
  		<div class="col-xs-12 kz_center">
  			<p>{{ 'NENHUM_CANVAS_COMPARTILHADO' | translate }}</p>
  		</div>
  	</div>
    <div class="alert alert-danger" role="alert" ng-show="erro">
      <p>{{ 'ERRO_OBTENDO_DADOS' | translate }}</p>
    </div>
  </div>

  <br />
  <!-- MEUS CANVAS COMPARTILHADOS -->
  <div class="table-responsive" ng-show="projetosComp.length>0 && mostrarCompartilhados==true">
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th><h3>{{ 'MEUS_CANVAS_COMPARTILHADOS' | translate }}</h3></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="projetoComp in projetosComp">
            <td class="kz_mouse_cursor">
              <a ng-href="#/canvas/{{projetoComp.projetoCanvas.id}}" class="btn" 
                ng-class="{ 'btn-primary' : $root.bmc, 'btn-success' : !$root.bmc }"
                alt="{{ 'VISUALIZAR_CANVAS' | translate }}" title="{{ 'VISUALIZAR_CANVAS' | translate }}">
                &nbsp;&nbsp;<span class="glyphicon glyphicon-picture"></span>&nbsp;&nbsp;
              </a>
              <a ng-href="#/canvas/{{projetoComp.projetoCanvas.id}}">
                {{projetoComp.projetoCanvas.nome}}<br />
                <small><em>{{projetoComp.projetoCanvas.descricao}}</em></small>
              </a>
            </td>
          </tr>
        </tbody>
      </table>
  </div>

  <nav class="kz_center" ng-show="mostrarCompartilhados==true">
    <ul class="pagination">
      <li>
        <a ng-href="" ng-click="carregarProjetosCompartilhados(1)" aria-label="Previous" class="kz_mouse_cursor">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
      <li ng-repeat="pageComp in pagesComp" ng-class="{'active' : pageComp==currentPageComp}">
        <a ng-href="" ng-click="carregarProjetosCompartilhados(pageComp)" class="kz_mouse_cursor">
          {{pageComp}}
        </a>
      </li>
      <li>
        <a ng-href="" ng-click="carregarProjetosCompartilhados(pageCountComp)" aria-label="Next" class="kz_mouse_cursor">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    </ul>
  </nav>

  <!-- HELP MENU : BEGIN -->
  <div class="hidden-md hidden-lg">
    <table class="table table-striped">
      <tr>
        <th colspan="2">{{ 'AJUDA' | translate }}</th>
      </tr>
      <tr>
        <td><span class="glyphicon glyphicon-wrench"></span></td>
        <td>{{ 'WIZARD' | translate }}</td>
      </tr>
      <tr>
        <td><span class="glyphicon glyphicon-pencil"></span></td>
        <td>{{ 'EDITAR_CANVAS' | translate }}</td>
      </tr>
      <tr>
        <td><span class="glyphicon glyphicon-trash"></span></td>
        <td>{{ 'REMOVER_CANVAS' | translate }}</td>
      </tr>
      <tr>
        <td><span class="glyphicon glyphicon-picture"></span></td>
        <td>{{ 'VISUALIZAR_CANVAS' | translate }}</td>
      </tr>
      <tr>
        <td><span class="glyphicon glyphicon-cloud-upload"></span></td>
        <td>{{ 'ENVIAR_SERVIDOR_REMOTO' | translate }}</td>
      </tr>
      <tr>
        <td><span class="glyphicon glyphicon-cloud-upload"></span></td>
        <td>{{ 'ENVIAR_SERVIDOR_REMOTO_SOBRESCREVER' | translate }}</td>
      </tr>
      <tr>
        <td><span class="glyphicon glyphicon-cloud-download"></span></td>
        <td>{{ 'BAIXAR_SERVIDOR_REMOTO_SOBRESCREVER' | translate }}</td>
      </tr>
    </table>
  </div>
  <!-- HELP MENU : END -->

</div>